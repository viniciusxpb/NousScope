<div class="app-layout">
    <app-toolbar class="toolbar"></app-toolbar>

    <div class="main-content">
        <aside class="left-panel">
            <app-presets-panel></app-presets-panel>
        </aside>

        <main class="canvas-area">
            <app-canvas></app-canvas>
        </main>

        <div class="resize-handle" (mousedown)="onResizeStart($event)" title="Arrastar para redimensionar">
        </div>

        <aside class="right-panel" [style.width.px]="rightPanelWidth()">
            <div class="tabs-container">
                <div class="tabs-header">
                    <button class="tab-button" [class.active]="activeTab() === 'architecture'"
                        (click)="setActiveTab('architecture')">
                        <span class="tab-icon">ğŸ—ï¸</span>
                        @if (activeTab() === 'architecture') {
                        <span class="tab-label">Architecture</span>
                        }
                    </button>
                    <button class="tab-button" [class.active]="activeTab() === 'formulas'"
                        (click)="setActiveTab('formulas')">
                        <span class="tab-icon">ğŸ“</span>
                        @if (activeTab() === 'formulas') {
                        <span class="tab-label">FÃ³rmulas</span>
                        }
                    </button>
                    <button class="tab-button" [class.active]="activeTab() === 'compare'"
                        (click)="setActiveTab('compare')">
                        <span class="tab-icon">ğŸ”¬</span>
                        @if (activeTab() === 'compare') {
                        <span class="tab-label">Compare</span>
                        }
                    </button>
                </div>

                <div class="tabs-content">
                    @if (activeTab() === 'architecture') {
                    <app-architecture-panel></app-architecture-panel>
                    }
                    @if (activeTab() === 'formulas') {
                    <app-formula-plotter></app-formula-plotter>
                    }
                    @if (activeTab() === 'compare') {
                    <app-compare-panel></app-compare-panel>
                    }
                </div>
            </div>
        </aside>
    </div>
</div>